diff -Naur k9copy-2.3.2-Source.orig/src/import/k9avidecode.cpp k9copy-2.3.2-Source/src/import/k9avidecode.cpp
--- k9copy-2.3.2-Source.orig/src/import/k9avidecode.cpp	2009-05-29 00:48:40.000000000 +0300
+++ k9copy-2.3.2-Source/src/import/k9avidecode.cpp	2009-06-13 03:21:44.000000000 +0300
@@ -288,6 +289,13 @@
     }
 }

+void av_free_packet(AVPacket *pkt)
+{
+     if (pkt) {
+         if (pkt->destruct) pkt->destruct(pkt);
+         pkt->data = NULL; pkt->size = 0;
+     }
+}

 double k9AviDecode::getDuration() const {
     return m_duration;

